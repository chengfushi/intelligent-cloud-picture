{"nodes":[{"block_id":"MEandLarwoj8ouxTzbecbtqdnmg","block_type":1,"children":["P8GOd4ZGloDvqBxB3ZYc7FCInkg","L1Mtd81zToOcoRxS0rHcttL9nze","Uj70de4HMo0Vp8x7AxHcjfH8nMb","WCegdVFK8o5o57xmjAdcEIFmnVg","JztddXFEYo7E4lxlc1tcdSKQng5","UjiSdyjNloI6k6xNRlRc9BE6nab","CmRUdY0Cyo0vPuxZV0hccQRGnbe","RTTkdquE6onOmFx9VdmcfJaanPc","L7pgdnxAPoObswx52xbc3uG5n4f","AegUdQpuLo32ClxDjnFcb6dIn7c","Gw1ndfAV3og5S5xAdkCcj9LTnld","NToXdSfAWolK4GxUWxZcnEUCn2b","XKzKdlhNdoo0xmxd0tlcxrGNn4d","V4zbdUN61omv8Ix5gYIcijIGnkc","Fv9rdbIZXokr0BxQif2cuj6Onvb","GgADdvudaoH55FxVRv5cF12Wnwb","FNwfdVrbpoFOzrxFSmXcGpSlndc","DmkTdA89Xo0NNExgm3RckHhwnhc","CHNOd3metowBtgxoiI0cUipZnIb","Xg8VdEBSeosIh1xKx3zcWOO2nhc","Oz5Ddx6CYo7CyuxndftcMsMtnxb","CbHWdIl0loz9XSxnbl5c4QBynSh","Kbsdd0y8aoFzl5xlx28c0jRrnBf","Qvz6dFck9oOOkhxNt9McE6tknfd","ByAkdIJ9FohporxWikqcZV0Xnpe","VnXOdhNhGoeL5Ix47shcRP1JnMb","Y81kdV9seomti4xjyLLcn9oCnKd","FfB5dOVrRo50JBxNfuQckhyEn14","IOGcd1xoYo5ZyMxBwapcJmUYnQg","NLlsdWNIbosU5CxxcgLcTLVInKh","WbAJdnZ7MocVwJxyCNncHNOInIf","ZftUdu7t4oAfmwx4gZocNZrIniA","G4AIdmVFmom6iEx8VCvcbhR9nFc","XdhAdbNWboftI1xaQMvcayC5nwc","QDsPdDbqVoYsJ6xy9xHcuJlNn8E","TTbud8hXzosTY9xw2WscIIXPncc","Hnl8dObexoqCf9x7Qe6cXfefnqg","UnM2dX8v5o1Y72xpUPVczl7Ynag","RRxWdRbNKoHLXAx04tbcoYfPnOg","JHFodXvFnoge8rxYBgncPTSQnVb","CNQddohpPo0c1AxkPo3cAxFynf0","N8lJdi2sVoWWcPxIoQEc6Juunqg","E2GodBrM6ovksRxmJxKcnDVOnRb","GYG2duy73oCy11xccIdch99cnNf","VTUmd1HCSokI9Yx1qRVcJxhVnoc","WdJsdLWtHoBni9xM3KscfQZVnve","V7yHdeNbzoXiUOx7Pn3ckcZSnqc","A9mGdZcigoVwQwxgLtucZjL9ndb","MTc4d1RuxoxUyoxE9P9cmdPDnag","UnV9dL3xJo2KEsxd2VFc2JBUnRd","Ats6dVZBromySDxrM0gcdiwMnHg","BaySdxE9eoRyqhxoIhNc3OyWnLc","HrOnd9uSZoHsF0xd2RjcUUZMnkb","MaECdvsiQoF8uVxTzjIco4mmnGd","H08pdLoP9oDjYPx0aqYcmswinwb","BCq6dLattorRTCx5XHJcKnvanTh","SdhQdV3YKotoQQx4iIgcQGnEnwd","LU4EdBRPcob3xrxWaeCcINlpnie","WTchdkqwZotRYsxkuRqc75vPnpe","GPePdIinQoGmv2xMF4xcJOccnme","KAwmdfmAiohzZlxU2qwcbbY7nAf","LTuLdEUulozF8sxcZX7cPzRInMx","F4mRdwGMcoDRz2xCcVmc2zJ3nNh","RIoEdHbNIoZn4oxc6Kic5rq1ngc","MpEhdQlQRoTvDPxwsd0cYgvVnAd","U9bHdkYBlocSBux6veMc9Torntf","LZEPdJsb3ohjTLxHDoKcHJYMnhf","OkyldP1jJonWAmxpkk0cEH2JnUh","Gt29db9utoxsYkxHGSjcSU5OnHf","Q3nPdTojgowaKuxqxqtcpc48nXb","PIfud1QlsoOr4AxD8eycP0rinIh","Fke8dch77optdAxAzUtc6hQpn2f","BIq6damdpoHT3sxAgQ2cNX7Knvv","R3kDdlb3UoeZxKxhctTcJ4j5n7d","D03RdzT8toYR5gxPvZWc7c1Knkg","Ro8CdUP1RoyJ83xVyaacTFRpnff","OvVTdYtcPoyK2xxxTvncBIxDnzc","A1Ond5nJ1omfekxUgD1cVwnHnib","J1J7dmLYPow7KTxpFZRcolErnWi","HNt5dQ8NZoUFUYxRWKNc9DvUnJh","Ds7YdwMv2o0iy6xHqtscKwymnIc","QUuQdIgMvo4cerxPatzcXYlwnCb","Xs3tdugaIoDlTnxORl9cQ8Omnxf","Fkw1dl4aCoLxugxv4SpcORSHn3b","DDYOdeStNocLi1x4K5Yctc9nnbe","XzimdUNYIoh8KOxgaUGcqtEon1d","GC0zdfIyDoGmwXxvMS3cLi6lnwg","J50hdJDVjoIf32xe1Dgct1s8n0e","VhvrdVeKtoVCVDx414xc98HqnDe","Sh65dyu19osiRlxaG3cc2j6unDf","Pec8dFZ5No2A68xInokcbApynlb","EkUzdCJL2oIIzfx37yMc1yo9nOb","Hs0HdK3KLoVtMcxqGjPce8lHnye","Exvhd31pSoEnNHx8apBc9V60nFh","E9fCd6bitopJrRxOgHvc6fLGnHf"],"page":{"elements":[{"text_run":{"content":"网站部署上线","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1}},"parent_id":""},{"block_id":"P8GOd4ZGloDvqBxB3ZYc7FCInkg","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"本节重点内؜容是项目部署上线，可以独立学习，希望大家能够掌握这种快速上线项目的方法。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"L1Mtd81zToOcoRxS0rHcttL9nze","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"包括：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Uj70de4HMo0Vp8x7AxHcjfH8nMb","block_type":13,"ordered":{"elements":[{"text_run":{"content":"服务器初始化","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"WCegdVFK8o5o57xmjAdcEIFmnVg","block_type":13,"ordered":{"elements":[{"text_run":{"content":"部署规划","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"JztddXFEYo7E4lxlc1tcdSKQng5","block_type":13,"ordered":{"elements":[{"text_run":{"content":"安装依赖","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"UjiSdyjNloI6k6xNRlRc9BE6nab","block_type":13,"ordered":{"elements":[{"text_run":{"content":"后端部署","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"CmRUdY0Cyo0vPuxZV0hccQRGnbe","block_type":13,"ordered":{"elements":[{"text_run":{"content":"前端部署","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"RTTkdquE6onOmFx9VdmcfJaanPc","block_type":13,"ordered":{"elements":[{"text_run":{"content":"测试验证","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"L7pgdnxAPoObswx52xbc3uG5n4f","block_type":13,"ordered":{"elements":[{"text_run":{"content":"扩展知识","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"AegUdQpuLo32ClxDjnFcb6dIn7c","block_type":3,"heading1":{"elements":[{"text_run":{"content":"初始化服务器","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"Gw1ndfAV3og5S5xAdkCcj9LTnld","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"首先购买一台云服务器，我选择的是","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"京东云","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Fwww.jdcloud.com%2Fcn%2Fproductsoverview"},"strikethrough":false,"underline":false}}},{"text_run":{"content":"618打折2核2G的只需49/年，其余厂商新人优惠还是比较便宜的。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"NToXdSfAWolK4GxUWxZcnEUCn2b","block_type":27,"image":{"align":2,"height":1266,"token":"KWlqbmRq8oJyNSxenx9cNeG3nDc","width":2449},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"XKzKdlhNdoo0xmxd0tlcxrGNn4d","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"然后安装Linux镜像，我这里选择的是Ubuntu：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"V4zbdUN61omv8Ix5gYIcijIGnkc","block_type":27,"image":{"align":2,"height":262,"token":"ERjgbd5ThoLwXux1CvMcdcRHnnb","width":1045},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"Fv9rdbIZXokr0BxQif2cuj6Onvb","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"之后再控制台页面放行几个端口号（否则无法访问）：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"GgADdvudaoH55FxVRv5cF12Wnwb","block_type":27,"image":{"align":2,"height":860,"token":"JGaBb9zC1oxnSuxSSy8cd6ACnSb","width":1881},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"FNwfdVrbpoFOzrxFSmXcGpSlndc","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"安装","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"宝塔Linux面板","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Fwww.bt.cn%2Fnew%2Findex.html"},"strikethrough":false,"underline":false}}},{"text_run":{"content":"：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"DmkTdA89Xo0NNExgm3RckHhwnhc","block_type":27,"image":{"align":2,"height":1348,"token":"UBERbQ530ouLnjxWqepceaZFnBb","width":2444},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"CHNOd3metowBtgxoiI0cUipZnIb","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"进入面板，执行：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Xg8VdEBSeosIh1xKx3zcWOO2nhc","block_type":14,"code":{"elements":[{"text_run":{"content":"bt default","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"language":29,"wrap":true}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"Oz5Ddx6CYo7CyuxndftcMsMtnxb","block_type":27,"image":{"align":2,"height":428,"token":"AjH2bGQ6lo95lIxoMMFcQPwdnPf","width":802},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"CbHWdIl0loz9XSxnbl5c4QBynSh","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"通过网页访问宝塔面板：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Kbsdd0y8aoFzl5xlx28c0jRrnBf","block_type":27,"image":{"align":2,"height":1303,"token":"OTgpb4d8FoFDBMxyKsRcUX0pnae","width":2226},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"Qvz6dFck9oOOkhxNt9McE6tknfd","block_type":22,"divider":{},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"ByAkdIJ9FohporxWikqcZV0Xnpe","block_type":3,"heading1":{"elements":[{"text_run":{"content":"部署规划","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"VnXOdhNhGoeL5Ix47shcRP1JnMb","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"在正式操作؜前后端部署前，我们要先进行一个规划，比如要部署哪些项目和服务、需要哪些依赖、占用哪些端口等。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Y81kdV9seomti4xjyLLcn9oCnKd","block_type":4,"heading2":{"elements":[{"text_run":{"content":"部署方案","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"FfB5dOVrRo50JBxNfuQckhyEn14","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"为了提高效؜率，本项目前端和后端均使用宝塔面板进行部署，可以很方便地管理服务器。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"IOGcd1xoYo5ZyMxBwapcJmUYnQg","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"涉及到具体的部؜署方式，前端要遵循 Vue 项目的部署模式，基于 Nginx 运行；后端可以直接利用宝塔的 Java 项目管理器运行 jar 包。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"NLlsdWNIbosU5CxxcgLcTLVInKh","block_type":4,"heading2":{"elements":[{"text_run":{"content":"地址规划","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"WbAJdnZ7MocVwJxyCNncHNOInIf","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"前端：通过 Nginx 进行转发，访问地址为 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"http://{域名}","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"ZftUdu7t4oAfmwx4gZocNZrIniA","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"后端：通过 Nginx 进行转发，访问地址为 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"http://{域名}/api","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"。实际运行在 8123 端口。JDK 建议选择 17 版本！","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"G4AIdmVFmom6iEx8VCvcbhR9nFc","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"为什么要用 Nginx 转发？","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"XdhAdbNWboftI1xaQMvcayC5nwc","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"前端和后端域名一致，保证不会出现跨域问题。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"QDsPdDbqVoYsJ6xy9xHcuJlNn8E","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"Nginx：服务器 80 端口，默认已安装。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"TTbud8hXzosTY9xw2WscIIXPncc","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"数据库：服务器 3306 端口，默认已安装。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Hnl8dObexoqCf9x7Qe6cXfefnqg","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"Redis：服务器 6379 端口，需要手动安装。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"UnM2dX8v5o1Y72xpUPVczl7Ynag","block_type":3,"heading1":{"elements":[{"text_run":{"content":"安装依赖","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"RRxWdRbNKoHLXAx04tbcoYfPnOg","block_type":4,"heading2":{"elements":[{"text_run":{"content":"数据库","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"JHFodXvFnoge8rxYBgncPTSQnVb","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"Mysql：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"CNQddohpPo0c1AxkPo3cAxFynf0","block_type":27,"image":{"align":2,"height":707,"token":"WOApbLlmOobJCzxvhiFcOPlhnKb","width":2229},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"N8lJdi2sVoWWcPxIoQEc6Juunqg","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"Redis：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"E2GodBrM6ovksRxmJxKcnDVOnRb","block_type":27,"image":{"align":2,"height":777,"token":"TcDibnXFno0tLsxudicc9YndnUd","width":2203},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"GYG2duy73oCy11xccIdch99cnNf","block_type":4,"heading2":{"elements":[{"text_run":{"content":"Java环境","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"VTUmd1HCSokI9Yx1qRVcJxhVnoc","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"要部署 Ja؜va 项目，必须安装 JDK。在宝塔面板中，可以通过下图的方式快速安装指定版本的 JDK。此处我们先安装 JDK 17：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"WdJsdLWtHoBni9xM3KscfQZVnve","block_type":27,"image":{"align":2,"height":1227,"token":"A1jSbUewqolSNhxioclck7lFnYc","width":2369},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"V7yHdeNbzoXiUOx7Pn3ckcZSnqc","block_type":3,"heading1":{"elements":[{"text_run":{"content":"后端部署","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"A9mGdZcigoVwQwxgLtucZjL9ndb","block_type":4,"heading2":{"elements":[{"text_run":{"content":"修改SpringBoot配置文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"MTc4d1RuxoxUyoxE9P9cmdPDnag","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"修改 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"application-prod","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 生产环境配置，包括数据库、Redis、对象存储、阿里云百炼 AI 的 key 等，替换为上述安装依赖时指定的配置（如用户名、密码）。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"UnV9dL3xJo2KEsxd2VFc2JBUnRd","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"注意为了性؜能，还要关闭 MyBatis Plus 的日志；为了安全，要给 Knife4j 接口文档设置用户名和密码。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Ats6dVZBromySDxrM0gcdiwMnHg","block_type":14,"code":{"elements":[{"text_run":{"content":"server:\n  port: 8123\nspring:\n  # 数据库配置\n  # todo 需替换配置\n  datasource:\n    driver-class-name: \n    url: \n    username: \n    password: \n  # Redis 配置\n  # todo 需替换配置\n  redis:\n    database: \n    host: \n    port: \n    timeout: \n    password: \nmybatis-plus:\n  configuration:\n    # 生产环境关闭日志\n    log-impl: ''\n# 接口文档配置\nknife4j:\n  basic:\n    enable: \n    username: \n    password: \n# 对象存储配置\ncos:\n  client:\n    host: xxx\n    secretId: xxx\n    secretKey: xxx\n    region: xxx\n    bucket: xxx\n# 阿里云 AI 配置\naliYunAi:\n  apiKey: xxx\n","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"language":67,"wrap":true}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"BaySdxE9eoRyqhxoIhNc3OyWnLc","block_type":4,"heading2":{"elements":[{"text_run":{"content":"打包部署","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"HrOnd9uSZoHsF0xd2RjcUUZMnkb","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"使用maven直接进行打包：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"MaECdvsiQoF8uVxTzjIco4mmnGd","block_type":27,"image":{"align":2,"height":414,"token":"Qh0Vbqs6bouSRvx8zT0ci6bynae","width":849},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"H08pdLoP9oDjYPx0aqYcmswinwb","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"上传 ja؜r 包到服务器，此处为了方便，就放到 web 根目录：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"BCq6dLattorRTCx5XHJcKnvanTh","block_type":27,"image":{"align":2,"height":282,"token":"Sk9qbkZvvobL89xsfUMceD54nqc","width":1755},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"SdhQdV3YKotoQQx4iIgcQGnEnwd","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"然后添加 Java 项目，","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"在项目执行命令中，必须指定生产环境的配置！","text_element_style":{"bold":true,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 还可以根据需要调整内存：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"LU4EdBRPcob3xrxWaeCcINlpnie","block_type":27,"image":{"align":2,"height":1082,"token":"LTkGbPWy6o0MqnxmyDzcbGe9n8d","width":1195},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"WTchdkqwZotRYsxkuRqc75vPnpe","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"启动成功后，能够看到状态和端口占用如图：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"GPePdIinQoGmv2xMF4xcJOccnme","block_type":27,"image":{"align":2,"height":366,"token":"SCDUbb9HsoJAd6xT824c06m6nkc","width":2223},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"KAwmdfmAiohzZlxU2qwcbbY7nAf","block_type":4,"heading2":{"elements":[{"text_run":{"content":"Nginx 转发","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"LTuLdEUulozF8sxcZX7cPzRInMx","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"新建一个 ؜Nginx 站点，域名填写当前服务器 IP 或者自己的域名，根目录随意填写即可（只要不包含中文）：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"F4mRdwGMcoDRz2xCcVmc2zJ3nNh","block_type":27,"image":{"align":2,"height":356,"token":"C6C6bNBLLo8s7hxNRKccwrNgn7f","width":2283},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"RIoEdHbNIoZn4oxc6Kic5rq1ngc","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"如果访问的是后端接口（地址有 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"/api","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 前缀），则 Nginx 将请求转发到后端服务，对应配置代码如下：···","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"MpEhdQlQRoTvDPxwsd0cYgvVnAd","block_type":14,"code":{"elements":[{"text_run":{"content":"location /api {\n  proxy_pass  http://127.0.0.1:8123;\n  proxy_set_header Host $proxy_host;\n  proxy_set_header X-Real-IP $remote_addr;\n  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n  proxy_buffering off;\n  proxy_set_header Connection \"\";\n}\n","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"language":29,"wrap":true}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"U9bHdkYBlocSBux6veMc9Torntf","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"但是，对于本项目؜，光有 HTTP 转发配置还不够！后端还需要提供 WebSocket 连接，所以也要对 WebSocket 进行转发，再给 Nginx 补充下列配置：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"LZEPdJsb3ohjTLxHDoKcHJYMnhf","block_type":14,"code":{"elements":[{"text_run":{"content":"# 代理 WebSocket 连接 (专门用于 WebSocket 请求)\nlocation /api/ws {\n  proxy_pass http://127.0.0.1:8123;\n  proxy_http_version 1.1;\n  proxy_set_header Upgrade $http_upgrade;\n  proxy_set_header Connection \"upgrade\";\n  proxy_set_header Host $host;\n  proxy_set_header X-Real-IP $remote_addr;\n  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n  proxy_buffering off;\n  proxy_read_timeout 86400s;\n","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"}","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"language":7,"wrap":true}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"OkyldP1jJonWAmxpkk0cEH2JnUh","block_type":3,"heading1":{"elements":[{"text_run":{"content":"前端部署","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"Gt29db9utoxsYkxHGSjcSU5OnHf","block_type":4,"heading2":{"elements":[{"text_run":{"content":"修改配置","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"Q3nPdTojgowaKuxqxqtcpc48nXb","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"线上的前端需要请求线上的后端接口，所以需要修改 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"request.ts","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 文件中的请求地址为线上：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"PIfud1QlsoOr4AxD8eycP0rinIh","block_type":14,"code":{"elements":[{"text_run":{"content":"// 区分开发和生产环境const DEV_BASE_URL = \"","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"http://localhost:8123","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"\";\n","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"const PROD_BASE_URL = \"","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"http://","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"xxx\";\n// 创建 Axios 实例const myAxios = axios.create({\n  baseURL: PROD_BASE_URL,\n  timeout: 10000,\n  withCredentials: true,\n","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"});","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"language":63,"wrap":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"Fke8dch77optdAxAzUtc6hQpn2f","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"此外，由于本项目用到了 WebSocket，还要同步修改 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"pictureEditWebSocket.ts","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 文件中的 WebSocket 的连接地址：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"BIq6damdpoHT3sxAgQ2cNX7Knvv","block_type":14,"code":{"elements":[{"text_run":{"content":"const DEV_BASE_URL = \"ws://","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"localhost:8123","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"\";\nconst PROD_BASE_URL = \"ws://xxx\";\n","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"const url = `${PROD_BASE_URL}/api/ws/picture/edit?pictureId=${this.pictureId}`","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"language":63,"wrap":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"R3kDdlb3UoeZxKxhctTcJ4j5n7d","block_type":4,"heading2":{"elements":[{"text_run":{"content":"打包部署","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"D03RdzT8toYR5gxPvZWc7c1Knkg","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"1）参考 Vite 官网，在 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"package.json","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 文件中定义 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"pure-build","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 命令：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Ro8CdUP1RoyJ83xVyaacTFRpnff","block_type":14,"code":{"elements":[{"text_run":{"content":"{\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"pure-build\": \"vite build\",\n    \"build\": \"run-p type-check \\\"build-only {@}\\\" --\",\n  }\n","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"}","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"language":56,"wrap":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"OvVTdYtcPoyK2xxxTvncBIxDnzc","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"为什么明明已经有 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"build","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 命令了，我们还要自己定义 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"pure-build","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 命令呢？","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"A1Ond5nJ1omfekxUgD1cVwnHnib","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"因为脚手架内置的 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"build","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 命令会执行类型检查，如果项目代码中有任何类型不规范的地方，都会导致打包失败！","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"J1J7dmLYPow7KTxpFZRcolErnWi","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"2）执行 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"pure-build","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 命令，执行打包构建。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"HNt5dQ8NZoUFUYxRWKNc9DvUnJh","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"注意，如果 Node.js 版本较低，会构建失败，这时可以到 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"官网","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Fnodejs.org%2Fzh-cn"},"strikethrough":false,"underline":false}}},{"text_run":{"content":" 安装更新的版本，比如 v20.17.0 等长期支持版本。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Ds7YdwMv2o0iy6xHqtscKwymnIc","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"构建成功后，可以得到用于部署的静态文件 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"dist","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 目录：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"QUuQdIgMvo4cerxPatzcXYlwnCb","block_type":27,"image":{"align":2,"height":394,"token":"R2O1bQSS1oSUNAxn8YacKwy8nsb","width":468},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"Xs3tdugaIoDlTnxORl9cQ8Omnxf","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"把 dist 目؜录下的所有文件上传到服务器上。文件较多时，建议先在本地压缩，上传压缩包到服务器后再解压。如图：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Fkw1dl4aCoLxugxv4SpcORSHn3b","block_type":27,"image":{"align":2,"height":275,"token":"YE9hb41VVoyUm6xenDZc79t8nfc","width":1543},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"DDYOdeStNocLi1x4K5Yctc9nnbe","block_type":4,"heading2":{"elements":[{"text_run":{"content":"Nginx 转发","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"XzimdUNYIoh8KOxgaUGcqtEon1d","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"一般来说，؜用户无法直接访问服务器上的文件，需要使用 Nginx 提供静态文件的访问能力。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"GC0zdfIyDoGmwXxvMS3cLi6lnwg","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"修改已有站点的网站目录配置，指向前端文件根目录：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"J50hdJDVjoIf32xe1Dgct1s8n0e","block_type":27,"image":{"align":2,"height":1006,"token":"MIj3bRcDkoMgkwxHwU7cOzMBnIb","width":1134},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"VhvrdVeKtoVCVDx414xc98HqnDe","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"然后访问服؜务器地址（或者自己配置的域名），就能打开前端网站了：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Sh65dyu19osiRlxaG3cc2j6unDf","block_type":27,"image":{"align":2,"height":1308,"token":"GKtDb28Gxoo5FTxrNeicBrMKnNb","width":2488},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"Pec8dFZ5No2A68xInokcbApynlb","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"但是经过验؜证，目前访问除了主页外的其他页面（比如 /add_picture），如果刷新页面，就会出现 404 错误。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"EkUzdCJL2oIIzfx37yMc1yo9nOb","block_type":27,"image":{"align":2,"height":338,"token":"LRGvbxll0oFu3Bx6Z1OcK3wsnDb","width":927},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"},{"block_id":"Hs0HdK3KLoVtMcxqGjPce8lHnye","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"这个问题是由于 Vue 是单页面应用（前端路由），打包后的文件只有 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"index.html","text_element_style":{"bold":false,"inline_code":true,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"，服务器上不存在对应的页面文件（比如 /add_picture.html），所以需要在 Nginx 配置转发。如果找不到某个页面文件，就加载主页 index.html 文件。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Exvhd31pSoEnNHx8apBc9V60nFh","block_type":2,"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg","text":{"elements":[{"text_run":{"content":"修改 Nginx 配置，补充下列代码：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"E9fCd6bitopJrRxOgHvc6fLGnHf","block_type":14,"code":{"elements":[{"text_run":{"content":"location / {\n  try_files $uri $uri/index.html /index.html;\n","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"}","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"language":29,"wrap":true}},"parent_id":"MEandLarwoj8ouxTzbecbtqdnmg"}],"type":"docx"}